# Starlist プロジェクト概要（雛形）

Starlist の全体像を短時間で共有するためのテンプレートです。各章に最新情報を記入して利用してください。

---

## 目次

1. [はじめに](#はじめに)
2. [プロダクトビジョンとターゲット](#プロダクトビジョンとターゲット)
3. [アーキテクチャサマリー](#アーキテクチャサマリー)
4. [主要コンポーネント詳細](#主要コンポーネント詳細)
5. [ディレクトリ構成ハイライト](#ディレクトリ構成ハイライト)
6. [機能マップと進捗](#機能マップと進捗)
7. [外部連携・依存サービス](#外部連携依存サービス)
8. [関連ドキュメント一覧](#関連ドキュメント一覧)
9. [ロードマップ・今後の課題](#ロードマップ今後の課題)
10. [更新履歴](#更新履歴)

---

## はじめに

- ドキュメントの目的と想定読者。
- プロジェクトの現状ステータス（例: α版/β版/本番）。
- 保守・更新の責任者。

> TODO: 最新のプロジェクトステータスを記入。

---

## プロダクトビジョンとターゲット

- Starlist が解決したい課題と提供価値。
- 主要ユーザー（例: スター/ファン/運営）のペルソナ。
- 成功指標（KPI/North Star Metric 等）。

> TODO: ビジネスチームと整合した内容を記載。

---

## アーキテクチャサマリー

- システム全体図（図表やリンクがあれば記載）。
- 主要技術スタック（フロントエンド/バックエンド/データ基盤など）。
- インフラ構成の概要（ホスティング、CI/CD、監視）。

| レイヤ | 技術 | メモ |
| --- | --- | --- |
| フロントエンド | Flutter (Dart) + Riverpod | モバイル/デスクトップ/Web を単一コードベースで提供。Chrome 開発用に `scripts/c.sh` を使用。 |
| バックエンド | NestJS (TypeScript) | `server/src/` 配下で ingest・media・metrics モジュールを提供。 |
| データ基盤 | Supabase (Postgres, Edge Functions) | マイグレーションで RLS を管理し、`exchange`/`sign-url` 関数を稼働。 |
| ストレージ | Supabase Storage | `doc-share` バケットを大容量資料共有向けに追加予定。 |
| 決済 | Stripe | サブスク課金・返金 API を利用。将来はコンビニ/キャリア決済を追加計画。 |

---

## 主要コンポーネント詳細

- フロントエンド（アプリ、Web）: 役割・主要モジュール・依存。
- バックエンド（API、ジョブ、メディア処理）: 役割・インターフェース。
- データ/ストレージ: テーブル概要、RLS ポリシー、Storage バケット。
- 決済/サブスク: 利用サービス、フロー。

> TODO: 内部構造や責任範囲を記述。

---

## ディレクトリ構成ハイライト

| パス | 説明 | 備考 |
| --- | --- | --- |
| `lib/src/` | Flutter コア実装 | `features/`, `services/`, `providers/` に機能を分割。 |
| `server/` | NestJS バックエンド | `ingest/`, `media/`, `metrics/`, `health/` 等をモジュール化。 |
| `supabase/migrations/` | DB スキーマ | RLS・トリガー・ビューの SQL 定義を管理。 |
| `supabase/functions/` | Edge Functions | `exchange`, `sign-url` など Supabase Functions。 |
| `docs/` | ドキュメント群 | `COMMON_DOCS_INDEX.md`, `STARLIST_OVERVIEW.md`, `COMPANY_SETUP_GUIDE.md` を格納。 |
| `scripts/` | 開発/運用スクリプト | `c.sh`, `deploy.sh`, `progress-report.sh` など。 |

> TODO: 主要ファイルやフォルダを必要に応じて追加。

---

## 機能マップと進捗

| 機能カテゴリ | 現状ステータス | 次のアクション |
| --- | --- | --- |
| データインポート | 主要サービスのダミー取り込み UI/診断機能を実装済み。 | サポートマトリクスとアイコン資産の整備を継続。 |
| 決済/サブスク | Stripe ベースの Payment/Subscription Service を実装。 | コンビニ・キャリア決済の仕様検討と実装着手。 |
| 分析/レポート | ランキング/スターデータ画面の初期バージョンを提供。 | 指標ダッシュボード強化とテスト追加。 |
| AI/自動化 | AI 秘書・スケジューラの設計ドキュメントを作成済み。 | PoC 実装とインテグレーションのロードマップ策定。 |

> TODO: PM/各担当と進捗を整合。

---

## 外部連携・依存サービス

- 例: Stripe、Supabase、Auth0/LINE、SNS API、CDN 等。
- 契約形態や使用制限、認証方式（OAuth、API Key 等）。
- 障害時のエスカレーション先やサポート窓口。

> TODO: 依存関係を一覧化。

---

## 関連ドキュメント一覧

- `docs/COMMON_DOCS_INDEX.md` … ドキュメント目次。
- `docs/COMPANY_SETUP_GUIDE.md` … オンボーディング手順（雛形）。
- `docs/development/DEVELOPMENT_GUIDE.md` … 開発環境構築。
- `docs/features/payment_current_state.md` … 決済実装の現状。
- `docs/CHATGPT_SHARE_GUIDE.md` … ChatGPT 共有フローとチェックリスト。
- `docs/ops/supabase_byo_auth.md` … Supabase BYO Auth / doc-share 運用手順。
- その他関連資料を箇条書きで追記。

> TODO: 追加で参照したい資料があればリストアップ。

---

## ロードマップ・今後の課題

- 直近のマイルストーン（四半期/スプリント単位など）。
- 大きな課題・リスク・解決策のメモ。
- 技術的負債や改善予定。

> TODO: PM/技術リードと合意した方針を記載。

---

## 更新履歴

| 日付 | 更新者 | 変更箇所 |
| --- | --- | --- |
| 2025-10-?? | 作成者名 | 雛形作成 |

> TODO: 更新時に追記。
